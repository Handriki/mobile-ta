{"version":3,"sources":["./src/app/auth/auth.page.html","./src/app/auth/sign-up/sign-up.component.html","./src/app/auth/auth.module.ts","./src/app/auth/auth.page.scss","./src/app/auth/auth.page.ts","./src/app/auth/auth.service.ts","./src/app/auth/sign-up/sign-up.component.scss","./src/app/auth/sign-up/sign-up.component.ts"],"names":[],"mappings":"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","file":"auth-auth-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>{{ isLogin ? 'Login' : 'Signup' }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-list>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">E-mail</ion-label>\\n                <ion-input \\n                  inputmode=\\\"email\\\"\\n                  [(ngModel)]=\\\"email\\\"\\n                  required\\n                  #emailCtrl=\\\"ngModel\\\" \\n                  type=\\\"email\\\">\\n                </ion-input>\\n              </ion-item>\\n              <ion-item\\n                *ngIf=\\\"!emailCtrl.valid && emailCtrl.touched\\\"\\n                lines=\\\"none\\\">\\n              <ion-label>Should be a valid email address</ion-label>\\n              </ion-item>\\n              <ion-item>\\n                  <ion-label position=\\\"floating\\\">Password</ion-label>\\n                  <ion-input \\n                  type=\\\"password\\\"\\n                  [(ngModel)]=\\\"password\\\"\\n                  #passwordCtrl=\\\"ngModel\\\"\\n                  required\\n                  minLength=\\\"6\\\">\\n                </ion-input>\\n              </ion-item>\\n              <ion-item\\n                *ngIf=\\\"!passwordCtrl.valid && passwordCtrl.touched\\\"\\n                lines=\\\"none\\\">\\n              <ion-label>Should be a valid password</ion-label>\\n              </ion-item>\\n          </ion-list>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-button type=\\\"button\\\" color=\\\"primary\\\" fill=\\\"clear\\\" (click)=\\\"presentSignUpModal()\\\" expand=\\\"full\\\">Switch to {{ isLogin ? 'Signup' : 'Login' }}</ion-button>\\n          <ion-button type=\\\"submit\\\" color=\\\"primary\\\" (click)=\\\"onLogin()\\\" expand=\\\"block\\\">Login</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <!-- <ion-spinner color=\\\"primary\\\" *ngIf=\\\"isLoading\\\"></ion-spinner> -->\\n</ion-content>\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Sign Up</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n    <ion-list>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">Email</ion-label>\\n        <ion-input\\n          required\\n          [(ngModel)]=\\\"email\\\"\\n          type=\\\"email\\\"\\n          placeholder=\\\"Your email here\\\"\\n        ></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">Password</ion-label>\\n        <ion-input\\n          required\\n          [(ngModel)]=\\\"password\\\"\\n          type=\\\"password\\\"\\n          minlength=\\\"6\\\"\\n          placeholder=\\\"******\\\"\\n        ></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"fixed\\\">Confirm Password</ion-label>\\n        <ion-input\\n          required\\n          [(ngModel)]=\\\"cpassword\\\"\\n          type=\\\"password\\\"\\n          minlength=\\\"6\\\"\\n          placeholder=\\\"******\\\"\\n        ></ion-input>\\n      </ion-item>\\n    </ion-list>\\n    <ion-button expand=\\\"block\\\" (click)=\\\"onSignUp()\\\">Sign Up</ion-button>\\n    <ion-button expand=\\\"block\\\" fill='outline' color='danger' (click)='onCancel()'>Cancel</ion-button>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthPage } from './auth.page';\nimport { SignUpComponent } from './sign-up/sign-up.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AuthPage, SignUpComponent],\n  entryComponents: [SignUpComponent]\n})\nexport class AuthPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2F1dGgvYXV0aC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from './auth.service';\nimport { Router } from '@angular/router';\nimport { LoadingController, ModalController, AlertController } from '@ionic/angular';\nimport { NgForm } from '@angular/forms';\nimport { SignUpComponent } from './sign-up/sign-up.component';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { auth } from 'firebase/app';\nimport { UserService, User } from '../services/user.service';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.page.html',\n  styleUrls: ['./auth.page.scss'],\n})\nexport class AuthPage implements OnInit {\n  isLoading = false;\n  isLogin = true;\n\n  email: string = \"\";\n  password: string = \"\";\n\n  users: User;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private authService: AuthService,\n    private router: Router,\n    private loadingCtrl: LoadingController,\n    public afAuth: AngularFireAuth,\n    public user: UserService,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n  }\n\n//   onLogin(f: NgForm) {\n//     this.authService.login(f.value.email, f.value.password).subscribe(\n//       resp => {\n//         if (resp.idToken) {\n//           console.log(resp);\n//           this.router.navigateByUrl('/home');\n//         } else {\n//           console.log('login failed.');\n//         }\n//       },\n//       errorResp => {\n//         console.log(errorResp);\n//     });\n//     // this.isLoading = true;\n//     // this.loadingCtrl.create({keyboardClose: true, message: 'Logging in...'})\n//     //   .then(loadingEl => {\n//     //     loadingEl.present();\n//     //     setTimeout(() => {\n//     //       this.isLoading = false;\n//     //       loadingEl.dismiss();\n//     //       this.router.navigateByUrl('home');\n//     //     }, 1500);\n//     //   });\n//     // this.authService.login();\n//   }\n\n  async presentAlert(title: string, content: string) {\n    const alert = await this.alertController.create({\n      header: title,\n      message: content,\n      buttons: ['OK']\n    })\n\n    await alert.present()\n  }\n\n  async onLogin(){\n    const { email, password } = this;\n    try{\n      const res = await this.afAuth.auth.signInWithEmailAndPassword(email, password);\n\n      const loading = await this.loadingCtrl.create({\n        message: 'Loading User...'\n      });\n      await loading.present();\n\n      if(res.user) {\n        console.log(\"id : \" + res.user.uid);\n        this.user.getUser(res.user.uid).subscribe(r => {\n          this.users = r;\n          this.user.setUser({\n            email,\n            uid: res.user.uid,\n            nama: this.users.nama,\n            prodi: this.users.prodi,\n            semester: this.users.semester,\n            skills: this.users.skills\n          });\n          loading.dismiss();\n        });\n\n\n\t\t\t\tthis.router.navigateByUrl('/home');\n\t\t\t}\n    }\n    catch(err){\n      console.dir(err);\n        this.presentAlert(\"Login Fail!\", \"Email or Password doesn't match\");\n        if(err.code === \"auth/user-not-found\"){\n        console.log(\"User not found\");\n      }\n    }\n  }\n\n//   onSubmit(f: NgForm){\n//     this.authService.login(f.value.email, f.value.password).subscribe(\n//       resp => {\n//         if (resp.idToken) {\n//           console.log(resp);\n//           this.router.navigateByUrl('/home');\n//         } else {\n//           console.log('login failed.');\n//         }\n//       },\n//       errorResp => {\n//         console.log(errorResp);\n//     });\n//   }\n\n  async presentSignUpModal() {\n    const modal = await this.modalCtrl.create({\n      component: SignUpComponent\n    });\n    return await modal.present();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\n\ninterface AuthResponseData {\n  kind: string;\n  idToken: string;\n  email: string;\n  refreshToken: string;\n  localId: string;\n  expiresIn: string;\n  registered?: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  private _userIsAuthenticated = true;\n  private _userID : string;\n\n  get userIsAuthenticated() {\n    return this._userIsAuthenticated;\n  }\n\n  get userID(){\n    return this._userID;\n  }\n\n  constructor(private http: HttpClient) { }\n\n  signup(email: string, password: string) {\n    return this.http.post<AuthResponseData>(\n      `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${environment.firebaseAPIKey}`,\n      {\n        email,\n        password,\n        returnSecureToken: true\n      }\n    );\n  }\n\n  login(email: string, password: string) {\n    //firebase login API here\n    this._userIsAuthenticated = true;\n    console.log(this._userIsAuthenticated);\n    console.log(\"test: \" + this._userID);\n    const res = this.http.post<AuthResponseData>(\n      `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${environment.firebaseAPIKey}`,\n      {\n        email,\n        password,\n        returnSecureToken: true\n      }\n    );\n\n    return res;\n  }\n\n  logout() {\n    this._userIsAuthenticated = false;\n  }\n\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2F1dGgvc2lnbi11cC9zaWduLXVwLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ModalController, AlertController, LoadingController } from '@ionic/angular';\nimport { AuthService } from '../auth.service';\nimport { ProfileService, Profile } from '../../services/profile.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { auth } from 'firebase/app';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { UserService, User } from '../../services/user.service';\n\n@Component({\n  selector: 'app-sign-up',\n  templateUrl: './sign-up.component.html',\n  styleUrls: ['./sign-up.component.scss'],\n})\nexport class SignUpComponent implements OnInit {\n  profile: Profile;\n  email: string = \"\";\n  nama: string = \"\";\n  prodi: string = \"\";\n  skills: string = \"\";\n  password: string = \"\";\n  cpassword: string = \"\";\n\n  constructor(private modalCtrl: ModalController, \n    private authSvc: AuthService, \n    private profileService: ProfileService,\n    public afAuth: AngularFireAuth,\n    public afstore: AngularFirestore,\n    public user: UserService,\n    private alertController: AlertController,\n    private loadingController: LoadingController) { }\n    users: User;\n\n  ngOnInit() {}\n\n  async presentAlert(title: string, content: string) {\n\t\tconst alert = await this.alertController.create({\n\t\t\theader: title,\n\t\t\tmessage: content,\n\t\t\tbuttons: ['OK']\n\t\t})\n\n\t\tawait alert.present()\n\t}\n  async onSignUp(){\n    const { email, password, cpassword } = this;\n    if(password !== cpassword){\n      return console.error(\"Password don't match\");\n    }\n    \n    try{\n      const res = await this.afAuth.auth.createUserWithEmailAndPassword(email, password);\n\n      this.afstore.doc(`users/${res.user.uid}`).set({\n        email\n      })\n      const loading = await this.loadingController.create({\n        message: 'Registering User...'\n      });\n      await loading.present();\n      this.user.getUser(res.user.uid).subscribe(r => {\n        this.users = r;\n        this.user.setUser({\n          email,\n          uid: res.user.uid,\n          nama: this.users.nama,\n          prodi: this.users.prodi,\n          semester: this.users.semester,\n          skills: this.users.skills\n        });\n        loading.dismiss();\n      });\n\n\n      this.presentAlert('Success', 'You are registered!')\n      this.modalCtrl.dismiss();\n\n      console.log(res);\n    }\n    catch(error){\n      console.dir(error);\n    }\n  }\n\n  // onSignUp(f: NgForm) {\n  //   this.profile = {\n  //     email: f.value.email,\n  //     nama : '',\n  //     prodi: '',\n  //     rating : 5,\n  //     skills: ''\n  //   }\n  //   this.profileService.addProfile(this.profile);\n  //   console.log(f.value);\n  //   this.authSvc.signup(f.value.email, f.value.pwd).subscribe(resp => {\n  //     console.log(resp);\n  //     this.modalCtrl.dismiss();\n  //   });\n  // }\n\n  onCancel() {\n    this.modalCtrl.dismiss();\n  }\n}"],"sourceRoot":""}